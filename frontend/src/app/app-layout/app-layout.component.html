<mat-toolbar color="primary">
    <mat-toolbar-row>
        
        <button mat-icon-button (click)="sidenav.toggle()">
            <mat-icon>menu</mat-icon>
        </button>
        <span>Sistema de Gerenciamento de Consultas</span>

        <button mat-icon-button [matMenuTriggerFor]="usuario_menu" class="ms-auto">
            <fa-icon [icon]="icons.faCircleUser"></fa-icon>
        </button>
        <mat-menu #usuario_menu="matMenu">
            
            <a mat-menu-item [routerLink]="[ '/app', { outlets : { page : 'profissional-conta-detalhes' } }]" 
                    *ngIf="sistemaService.isProfissional() === true">
               Sua conta
            </a>
            <a mat-menu-item [routerLink]="[ '/app', { outlets : { page : 'recepcionista-conta-detalhes' } }]" 
                    *ngIf="sistemaService.isRecepcionista() === true">
               Sua conta
            </a>
            <a mat-menu-item [routerLink]="[ '/app', { outlets : { page : 'diretor-conta-detalhes' } }]" 
                    *ngIf="sistemaService.isDiretor() === true">
               Sua conta
            </a>

            <a mat-menu-item [routerLink]="[ '/app', { outlets : { page : 'profissional-conta-especialidades' } }]" 
                    *ngIf="sistemaService.isProfissional() === true">
               Suas especialidades
            </a>

            <a mat-menu-item [routerLink]="[ '/app', { outlets : { page : 'usuario-conta-alterar-senha' } }]">
               Alterar senha
            </a>

            <a mat-menu-item [routerLink]="[]" (click)="logout()">
                Sair
            </a>
        </mat-menu>
    </mat-toolbar-row>
   
</mat-toolbar>

<mat-sidenav-container class="m-0 h-100">
    <mat-sidenav #sidenav mode="side" [class.mat-elevation-z4]="true" style="width: 20em">
        <mat-nav-list>
            <mat-list-item [routerLink]="[]" class="mb-1">
                <div class="d-flex flex-row align-items-center">
                    <mat-icon>dashboard</mat-icon>
                    <div class="mx-2">Menu</div>
                    <a [routerLink]="[]" class="ms-auto text-dark" (click)="sidenav.toggle()">
                        <fa-icon [icon]="icons.faArrowLeft"></fa-icon>
                    </a>
                </div>
            </mat-list-item>    
            
            <mat-list-item [routerLink]="[ '/app', { outlets : { page : 'home' } } ]">
                <div class="d-flex flex-row">
                    <fa-icon [icon]="icons.faHospitalUser"></fa-icon>
                    <div class="mx-2">Inicial</div>
                </div>
            </mat-list-item> 

            <mat-list-item [routerLink]="[]" (click)="usuarioMenuShow = !usuarioMenuShow"
                    *ngIf="sistemaService.isAdminEscopo() == true">        
                <div class="d-flex flex-row">
                    <fa-icon [icon]="icons.faUser"></fa-icon>
                    <div class="mx-2">Usuários</div>                    
                    <fa-icon *ngIf="usuarioMenuShow === true" [icon]="icons.faChevronUp" class="ms-auto"></fa-icon>
                    <fa-icon *ngIf="usuarioMenuShow === false" [icon]="icons.faChevronDown" class="ms-auto"></fa-icon>
                </div>
            </mat-list-item>
            <div *ngIf="usuarioMenuShow === true" class="px-3">
                <a mat-list-item [routerLink]="[ '/app', { outlets : { page : 'usuario-tela' } } ]">
                    <div class="d-flex flex-row">
                        <fa-icon [icon]="icons.faUser"></fa-icon>
                        <div class="mx-2">Usuários</div>
                    </div>                       
                </a>
                <a mat-list-item [routerLink]="[ '/app', { outlets : { page : 'usuario-grupo-tela' } } ]">
                    <div class="d-flex flex-row">
                        <fa-icon [icon]="icons.faUserGroup"></fa-icon>
                        <div class="mx-2">Grupos</div>
                    </div>
                </a>
                <a mat-list-item [routerLink]="[ '/app', { outlets : { page : 'recurso-tela' } } ]">
                    <div class="d-flex flex-row">
                        <fa-icon [icon]="icons.faBox"></fa-icon>
                        <div class="mx-2">Recursos</div>
                    </div>
                </a>
            </div>

            <mat-list-item [routerLink]="[]" (click)="consultaMenuShow = !consultaMenuShow" 
                    *ngIf="sistemaService.isAdminEscopo() == false">
                <div class="d-flex flex-row">
                    <fa-icon [icon]="icons.faCalendarDays"></fa-icon>
                    <div class="mx-2">Consultas</div>                    
                    <fa-icon *ngIf="consultaMenuShow === true" [icon]="icons.faChevronUp" class="ms-auto"></fa-icon>
                    <fa-icon *ngIf="consultaMenuShow === false" [icon]="icons.faChevronDown" class="ms-auto"></fa-icon>
                </div>
            </mat-list-item>
            <div *ngIf="consultaMenuShow === true" class="px-3">                
                <a mat-list-item [routerLink]="[ '/app', { outlets : { page : 'consulta-atendimento' } } ]"
                        *ngIf="sistemaService.isProfissional()">
                    <div class="d-flex flex-row">
                        <fa-icon [icon]="icons.faListOl"></fa-icon>
                        <div class="mx-2">Atendimento</div>
                    </div>                       
                </a>
                <a mat-list-item [routerLink]="[ '/app', { outlets : { page : 'consulta-nova' } } ]">
                    <div class="d-flex flex-row">
                        <fa-icon [icon]="icons.faAdd"></fa-icon>
                        <div class="mx-2">Nova consulta</div>
                    </div>                       
                </a>                                 
                <a mat-list-item [routerLink]="[ '/app', { outlets : { page : 'consulta-fila' } } ]">
                    <div class="d-flex flex-row">
                        <fa-icon [icon]="icons.faFilter"></fa-icon>
                        <div class="mx-2">Fila de consultas</div>
                    </div>
                </a>
                <a mat-list-item [routerLink]="[ '/app', { outlets : { page : 'consulta-tela' } } ]">
                    <div class="d-flex flex-row">
                        <fa-icon [icon]="icons.faDisplay"></fa-icon>
                        <div class="mx-2">Tela de consultas</div>
                    </div>
                </a>
            </div>

            <mat-list-item [routerLink]="[ '/app', { outlets : { page : 'paciente-tela' } } ]"
                    *ngIf="sistemaService.isAdminEscopo() == false">
                <div class="d-flex flex-row">
                    <fa-icon [icon]="icons.faHospitalUser"></fa-icon>
                    <div class="mx-2">Pacientes</div>
                </div>
            </mat-list-item> 

            <mat-list-item [routerLink]="[ '/app', { outlets : { page : 'profissional-tela' } } ]" 
                    *ngIf="sistemaService.isAdminEscopo() == true">                       
                <div class="d-flex flex-row">
                    <fa-icon [icon]="icons.faUserDoctor"></fa-icon>
                    <div class="mx-2">Profissionais</div>
                </div>
            </mat-list-item>
            <mat-list-item [routerLink]="[ '/app', { outlets : { page : 'nao-admin-profissional-tela' } } ]" 
                    *ngIf="sistemaService.isAdminEscopo() == false">                       
                <div class="d-flex flex-row">
                    <fa-icon [icon]="icons.faUserDoctor"></fa-icon>
                    <div class="mx-2">Profissionais</div>
                </div>
            </mat-list-item> 
            <mat-list-item [routerLink]="[ '/app', { outlets : { page : 'recepcionista-tela' } } ]"
                    *ngIf="sistemaService.isAdminEscopo() == true">                              
                <div class="d-flex flex-row">
                    <fa-icon [icon]="icons.faUserTie"></fa-icon>
                    <div class="mx-2">Recepcionistas</div>
                </div>
            </mat-list-item>
            <mat-list-item [routerLink]="[ '/app', { outlets : { page : 'nao-admin-recepcionista-tela' } } ]"
                    *ngIf="sistemaService.isAdminEscopo() == false">                              
                <div class="d-flex flex-row">
                    <fa-icon [icon]="icons.faUserTie"></fa-icon>
                    <div class="mx-2">Recepcionistas</div>
                </div>
            </mat-list-item>
            <mat-list-item [routerLink]="[ '/app', { outlets : { page : 'diretor-tela' } } ]"
                    *ngIf="sistemaService.isAdminEscopo() == true">                     
                <div class="d-flex flex-row">
                    <fa-icon [icon]="icons.faUserNurse"></fa-icon>
                    <div class="mx-2">Diretores</div>
                </div>
            </mat-list-item>
            <mat-list-item [routerLink]="[ '/app', { outlets : { page : 'nao-admin-diretor-tela' } } ]"
                    *ngIf="sistemaService.isAdminEscopo() == false">                     
                <div class="d-flex flex-row">
                    <fa-icon [icon]="icons.faUserNurse"></fa-icon>
                    <div class="mx-2">Diretores</div>
                </div>
            </mat-list-item>
            <mat-list-item [routerLink]="[ '/app', { outlets : { page : 'clinica-tela' } } ]"
                    *ngIf="sistemaService.isAdminEscopo() == true">               
                <div class="d-flex flex-row">
                    <fa-icon [icon]="icons.faHospital"></fa-icon>
                    <div class="mx-2">Clínicas</div>
                </div>
            </mat-list-item>  
            <mat-list-item [routerLink]="[ '/app', { outlets : { page : 'nao-admin-clinica-tela' } } ]"
                    *ngIf="sistemaService.isAdminEscopo() == false">               
                <div class="d-flex flex-row">
                    <fa-icon [icon]="icons.faHospital"></fa-icon>
                    <div class="mx-2">Clínicas</div>
                </div>
            </mat-list-item> 
            <mat-list-item [routerLink]="[ '/app', { outlets : { page : 'especialidade-tela' } } ]"
                    *ngIf="sistemaService.isAdminEscopo() == true">               
                <div class="d-flex flex-row">
                    <fa-icon [icon]="icons.faUmbrella"></fa-icon>
                    <div class="mx-2">Especialidades</div>
                </div>
            </mat-list-item>                                                                                 
        </mat-nav-list>
    </mat-sidenav>
    <mat-sidenav-content class="p-3">
        <router-outlet name="page"></router-outlet>
    </mat-sidenav-content>
</mat-sidenav-container> 